<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.5 (20251129.0259)
 -->
<!-- Title: TNL_Architecture Pages: 1 -->
<svg width="695pt" height="794pt"
 viewBox="0.00 0.00 695.00 794.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 790.28)">
<title>TNL_Architecture</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-790.28 691,-790.28 691,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_tsang</title>
<polygon fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" points="405,-413.78 405,-671.78 535,-671.78 535,-413.78 405,-413.78"/>
<text xml:space="preserve" text-anchor="middle" x="470" y="-654.48" font-family="Times,serif" font-size="14.00">Tsang (Ruby)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_leng</title>
<polygon fill="#e1f5fe" stroke="#0277bd" stroke-width="2" points="8,-125.78 8,-287.28 444,-287.28 444,-125.78 8,-125.78"/>
<text xml:space="preserve" text-anchor="middle" x="226" y="-269.98" font-family="Times,serif" font-size="14.00">Leng Library (Clojure)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_databases</title>
</g>
<g id="clust4" class="cluster">
<title>cluster_legend</title>
<polygon fill="#fafafa" stroke="#9e9e9e" points="543,-414.03 543,-778.28 679,-778.28 679,-414.03 543,-414.03"/>
<text xml:space="preserve" text-anchor="middle" x="611" y="-760.98" font-family="Times,serif" font-size="14.00">Legend</text>
</g>
<!-- SQL -->
<g id="node1" class="node">
<title>SQL</title>
<polygon fill="#fff9c4" stroke="#f57f17" stroke-width="2" points="501.25,-745.78 432.75,-745.78 432.75,-709.78 507.25,-709.78 507.25,-739.78 501.25,-745.78"/>
<polyline fill="none" stroke="#f57f17" stroke-width="2" points="501.25,-745.78 501.25,-739.78"/>
<polyline fill="none" stroke="#f57f17" stroke-width="2" points="507.25,-739.78 501.25,-739.78"/>
<text xml:space="preserve" text-anchor="middle" x="470" y="-723.51" font-family="Arial" font-size="12.00">SQL Query</text>
</g>
<!-- Parser -->
<g id="node2" class="node">
<title>Parser</title>
<path fill="#ce93d8" stroke="#1976d2" stroke-width="2" d="M508.75,-639.28C508.75,-639.28 431.25,-639.28 431.25,-639.28 425.25,-639.28 419.25,-633.28 419.25,-627.28 419.25,-627.28 419.25,-614.78 419.25,-614.78 419.25,-608.78 425.25,-602.78 431.25,-602.78 431.25,-602.78 508.75,-602.78 508.75,-602.78 514.75,-602.78 520.75,-608.78 520.75,-614.78 520.75,-614.78 520.75,-627.28 520.75,-627.28 520.75,-633.28 514.75,-639.28 508.75,-639.28"/>
<text xml:space="preserve" text-anchor="middle" x="470" y="-623.88" font-family="Arial" font-size="12.00">SQL Parser</text>
<text xml:space="preserve" text-anchor="middle" x="470" y="-609.63" font-family="Arial" font-size="12.00">(Lexer + Parser)</text>
</g>
<!-- SQL&#45;&gt;Parser -->
<g id="edge1" class="edge">
<title>SQL&#45;&gt;Parser</title>
<path fill="none" stroke="#1976d2" stroke-width="2" d="M470,-709.01C470,-693.76 470,-671.41 470,-653.19"/>
<polygon fill="#1976d2" stroke="#1976d2" stroke-width="2" points="473.5,-653.27 470,-643.27 466.5,-653.27 473.5,-653.27"/>
<text xml:space="preserve" text-anchor="middle" x="485" y="-682.28" font-family="Arial" font-size="10.00"> &#160;parse</text>
</g>
<!-- AST -->
<g id="node3" class="node">
<title>AST</title>
<path fill="#ba68c8" stroke="#1976d2" stroke-width="2" d="M507.62,-542.78C507.62,-542.78 432.38,-542.78 432.38,-542.78 426.38,-542.78 420.38,-536.78 420.38,-530.78 420.38,-530.78 420.38,-518.28 420.38,-518.28 420.38,-512.28 426.38,-506.28 432.38,-506.28 432.38,-506.28 507.62,-506.28 507.62,-506.28 513.62,-506.28 519.62,-512.28 519.62,-518.28 519.62,-518.28 519.62,-530.78 519.62,-530.78 519.62,-536.78 513.62,-542.78 507.62,-542.78"/>
<text xml:space="preserve" text-anchor="middle" x="470" y="-527.38" font-family="Arial" font-size="12.00">Abstract Syntax</text>
<text xml:space="preserve" text-anchor="middle" x="470" y="-513.13" font-family="Arial" font-size="12.00">Tree (AST)</text>
</g>
<!-- Parser&#45;&gt;AST -->
<g id="edge2" class="edge">
<title>Parser&#45;&gt;AST</title>
<path fill="none" stroke="#1976d2" stroke-width="2" d="M470,-601.81C470,-589 470,-571.54 470,-556.55"/>
<polygon fill="#1976d2" stroke="#1976d2" stroke-width="2" points="473.5,-556.72 470,-546.72 466.5,-556.72 473.5,-556.72"/>
<text xml:space="preserve" text-anchor="middle" x="496.25" y="-575.28" font-family="Arial" font-size="10.00"> &#160;tokenize &amp;</text>
<text xml:space="preserve" text-anchor="middle" x="496.25" y="-563.28" font-family="Arial" font-size="10.00"> &#160;analyze</text>
</g>
<!-- CodeGen -->
<g id="node4" class="node">
<title>CodeGen</title>
<path fill="#ab47bc" stroke="#1976d2" stroke-width="2" d="M515.12,-458.28C515.12,-458.28 424.88,-458.28 424.88,-458.28 418.88,-458.28 412.88,-452.28 412.88,-446.28 412.88,-446.28 412.88,-433.78 412.88,-433.78 412.88,-427.78 418.88,-421.78 424.88,-421.78 424.88,-421.78 515.12,-421.78 515.12,-421.78 521.12,-421.78 527.12,-427.78 527.12,-433.78 527.12,-433.78 527.12,-446.28 527.12,-446.28 527.12,-452.28 521.12,-458.28 515.12,-458.28"/>
<text xml:space="preserve" text-anchor="middle" x="470" y="-442.88" font-family="Arial" font-size="12.00">Code Generator</text>
<text xml:space="preserve" text-anchor="middle" x="470" y="-428.63" font-family="Arial" font-size="12.00">(Liquid Templates)</text>
</g>
<!-- AST&#45;&gt;CodeGen -->
<g id="edge3" class="edge">
<title>AST&#45;&gt;CodeGen</title>
<path fill="none" stroke="#1976d2" stroke-width="2" d="M470,-505.63C470,-495.86 470,-483.48 470,-472.18"/>
<polygon fill="#1976d2" stroke="#1976d2" stroke-width="2" points="473.5,-472.21 470,-462.21 466.5,-472.21 473.5,-472.21"/>
<text xml:space="preserve" text-anchor="middle" x="493.62" y="-478.78" font-family="Arial" font-size="10.00"> &#160;transform</text>
</g>
<!-- Pipeline -->
<g id="node5" class="node">
<title>Pipeline</title>
<path fill="#c8e6c9" stroke="#388e3c" stroke-width="2" d="M514,-361.78C514,-361.78 426,-361.78 426,-361.78 420,-361.78 414,-355.78 414,-349.78 414,-349.78 414,-337.28 414,-337.28 414,-331.28 420,-325.28 426,-325.28 426,-325.28 514,-325.28 514,-325.28 520,-325.28 526,-331.28 526,-337.28 526,-337.28 526,-349.78 526,-349.78 526,-355.78 520,-361.78 514,-361.78"/>
<text xml:space="preserve" text-anchor="middle" x="470" y="-346.38" font-family="Arial" font-size="12.00">Clojure Pipeline</text>
<text xml:space="preserve" text-anchor="middle" x="470" y="-332.13" font-family="Arial" font-size="12.00">(Generated Code)</text>
</g>
<!-- CodeGen&#45;&gt;Pipeline -->
<g id="edge4" class="edge">
<title>CodeGen&#45;&gt;Pipeline</title>
<path fill="none" stroke="#1976d2" stroke-width="2" d="M470,-420.81C470,-408 470,-390.54 470,-375.55"/>
<polygon fill="#1976d2" stroke="#1976d2" stroke-width="2" points="473.5,-375.72 470,-365.72 466.5,-375.72 473.5,-375.72"/>
<text xml:space="preserve" text-anchor="middle" x="491.75" y="-394.28" font-family="Arial" font-size="10.00"> &#160;generate</text>
<text xml:space="preserve" text-anchor="middle" x="491.75" y="-382.28" font-family="Arial" font-size="10.00"> &#160;project</text>
</g>
<!-- Adapters -->
<g id="node6" class="node">
<title>Adapters</title>
<path fill="#81d4fa" stroke="#1976d2" stroke-width="2" d="M327.25,-254.78C327.25,-254.78 252.75,-254.78 252.75,-254.78 246.75,-254.78 240.75,-248.78 240.75,-242.78 240.75,-242.78 240.75,-230.28 240.75,-230.28 240.75,-224.28 246.75,-218.28 252.75,-218.28 252.75,-218.28 327.25,-218.28 327.25,-218.28 333.25,-218.28 339.25,-224.28 339.25,-230.28 339.25,-230.28 339.25,-242.78 339.25,-242.78 339.25,-248.78 333.25,-254.78 327.25,-254.78"/>
<text xml:space="preserve" text-anchor="middle" x="290" y="-239.38" font-family="Arial" font-size="12.00">Protocol&#45;Based</text>
<text xml:space="preserve" text-anchor="middle" x="290" y="-225.13" font-family="Arial" font-size="12.00">Adapters</text>
</g>
<!-- Pipeline&#45;&gt;Adapters -->
<g id="edge5" class="edge">
<title>Pipeline&#45;&gt;Adapters</title>
<path fill="none" stroke="#0277bd" stroke-width="2" stroke-dasharray="5,2" d="M439.06,-324.48C409.56,-307.28 364.92,-281.24 332.18,-262.14"/>
<polygon fill="#0277bd" stroke="#0277bd" stroke-width="2" points="334.16,-259.24 323.76,-257.22 330.63,-265.28 334.16,-259.24"/>
<text xml:space="preserve" text-anchor="middle" x="420.14" y="-297.78" font-family="Arial" font-size="10.00"> &#160;uses</text>
</g>
<!-- SourceDB -->
<g id="node10" class="node">
<title>SourceDB</title>
<path fill="#ffccbc" stroke="#e64a19" stroke-width="2" d="M437.25,-79.44C437.25,-82.94 403.07,-85.78 361,-85.78 318.93,-85.78 284.75,-82.94 284.75,-79.44 284.75,-79.44 284.75,-22.34 284.75,-22.34 284.75,-18.84 318.93,-16 361,-16 403.07,-16 437.25,-18.84 437.25,-22.34 437.25,-22.34 437.25,-79.44 437.25,-79.44"/>
<path fill="none" stroke="#e64a19" stroke-width="2" d="M437.25,-79.44C437.25,-75.94 403.07,-73.09 361,-73.09 318.93,-73.09 284.75,-75.94 284.75,-79.44"/>
<text xml:space="preserve" text-anchor="middle" x="361" y="-60.87" font-family="Arial" font-size="12.00">Source Database</text>
<text xml:space="preserve" text-anchor="middle" x="361" y="-46.62" font-family="Arial" font-size="12.00">(Cassandra, PostgreSQL,</text>
<text xml:space="preserve" text-anchor="middle" x="361" y="-32.37" font-family="Arial" font-size="12.00">MongoDB)</text>
</g>
<!-- Pipeline&#45;&gt;SourceDB -->
<g id="edge11" class="edge">
<title>Pipeline&#45;&gt;SourceDB</title>
<path fill="none" stroke="#e64a19" stroke-width="1.5" stroke-dasharray="5,2" d="M469.42,-324.62C467.63,-270.71 461.89,-113.08 456,-103.78 453.44,-99.74 448.15,-95.26 441.31,-90.67"/>
<polygon fill="#e64a19" stroke="#e64a19" stroke-width="1.5" points="443.41,-87.85 433.06,-85.57 439.73,-93.81 443.41,-87.85"/>
<text xml:space="preserve" text-anchor="middle" x="482.27" y="-190.78" font-family="Arial" font-size="10.00"> &#160;extract</text>
</g>
<!-- SinkDB -->
<g id="node11" class="node">
<title>SinkDB</title>
<path fill="#c5e1a5" stroke="#558b2f" stroke-width="2" d="M578.62,-79.44C578.62,-82.94 551,-85.78 517,-85.78 483,-85.78 455.38,-82.94 455.38,-79.44 455.38,-79.44 455.38,-22.34 455.38,-22.34 455.38,-18.84 483,-16 517,-16 551,-16 578.62,-18.84 578.62,-22.34 578.62,-22.34 578.62,-79.44 578.62,-79.44"/>
<path fill="none" stroke="#558b2f" stroke-width="2" d="M578.62,-79.44C578.62,-75.94 551,-73.09 517,-73.09 483,-73.09 455.38,-75.94 455.38,-79.44"/>
<text xml:space="preserve" text-anchor="middle" x="517" y="-60.87" font-family="Arial" font-size="12.00">Sink Database</text>
<text xml:space="preserve" text-anchor="middle" x="517" y="-46.62" font-family="Arial" font-size="12.00">(Druid, PostgreSQL,</text>
<text xml:space="preserve" text-anchor="middle" x="517" y="-32.37" font-family="Arial" font-size="12.00">Elasticsearch)</text>
</g>
<!-- Pipeline&#45;&gt;SinkDB -->
<g id="edge12" class="edge">
<title>Pipeline&#45;&gt;SinkDB</title>
<path fill="none" stroke="#558b2f" stroke-width="1.5" stroke-dasharray="5,2" d="M477.85,-324.44C480.04,-318.99 482.28,-312.95 484,-307.28 498.14,-260.74 500.24,-248.45 507,-200.28 511.76,-166.39 514.27,-127.8 515.59,-98.48"/>
<polygon fill="#558b2f" stroke="#558b2f" stroke-width="1.5" points="519.07,-98.92 515.99,-88.79 512.08,-98.63 519.07,-98.92"/>
<text xml:space="preserve" text-anchor="middle" x="520.41" y="-190.78" font-family="Arial" font-size="10.00"> &#160;load</text>
</g>
<!-- Sources -->
<g id="node7" class="node">
<title>Sources</title>
<path fill="#4fc3f7" stroke="#1976d2" stroke-width="2" d="M281.62,-170.28C281.62,-170.28 152.38,-170.28 152.38,-170.28 146.38,-170.28 140.38,-164.28 140.38,-158.28 140.38,-158.28 140.38,-145.78 140.38,-145.78 140.38,-139.78 146.38,-133.78 152.38,-133.78 152.38,-133.78 281.62,-133.78 281.62,-133.78 287.62,-133.78 293.62,-139.78 293.62,-145.78 293.62,-145.78 293.62,-158.28 293.62,-158.28 293.62,-164.28 287.62,-170.28 281.62,-170.28"/>
<text xml:space="preserve" text-anchor="middle" x="217" y="-154.88" font-family="Arial" font-size="12.00">Source Adapters</text>
<text xml:space="preserve" text-anchor="middle" x="217" y="-140.63" font-family="Arial" font-size="12.00">(Cassandra, PostgreSQL)</text>
</g>
<!-- Adapters&#45;&gt;Sources -->
<g id="edge6" class="edge">
<title>Adapters&#45;&gt;Sources</title>
<path fill="none" stroke="#0277bd" d="M274.16,-217.63C264.37,-206.57 251.63,-192.17 240.67,-179.78"/>
<polygon fill="#0277bd" stroke="#0277bd" points="243.31,-177.49 234.06,-172.32 238.07,-182.12 243.31,-177.49"/>
</g>
<!-- Sinks -->
<g id="node8" class="node">
<title>Sinks</title>
<path fill="#29b6f6" stroke="#1976d2" stroke-width="2" d="M424,-170.28C424,-170.28 324,-170.28 324,-170.28 318,-170.28 312,-164.28 312,-158.28 312,-158.28 312,-145.78 312,-145.78 312,-139.78 318,-133.78 324,-133.78 324,-133.78 424,-133.78 424,-133.78 430,-133.78 436,-139.78 436,-145.78 436,-145.78 436,-158.28 436,-158.28 436,-164.28 430,-170.28 424,-170.28"/>
<text xml:space="preserve" text-anchor="middle" x="374" y="-154.88" font-family="Arial" font-size="12.00">Sink Adapters</text>
<text xml:space="preserve" text-anchor="middle" x="374" y="-140.63" font-family="Arial" font-size="12.00">(Druid, PostgreSQL)</text>
</g>
<!-- Adapters&#45;&gt;Sinks -->
<g id="edge7" class="edge">
<title>Adapters&#45;&gt;Sinks</title>
<path fill="none" stroke="#0277bd" d="M308.23,-217.63C319.71,-206.36 334.72,-191.61 347.5,-179.06"/>
<polygon fill="#0277bd" stroke="#0277bd" points="349.76,-181.75 354.44,-172.24 344.85,-176.75 349.76,-181.75"/>
</g>
<!-- Utils -->
<g id="node9" class="node">
<title>Utils</title>
<path fill="#03a9f4" stroke="#1976d2" stroke-width="2" d="M110,-170.28C110,-170.28 28,-170.28 28,-170.28 22,-170.28 16,-164.28 16,-158.28 16,-158.28 16,-145.78 16,-145.78 16,-139.78 22,-133.78 28,-133.78 28,-133.78 110,-133.78 110,-133.78 116,-133.78 122,-139.78 122,-145.78 122,-145.78 122,-158.28 122,-158.28 122,-164.28 116,-170.28 110,-170.28"/>
<text xml:space="preserve" text-anchor="middle" x="69" y="-154.88" font-family="Arial" font-size="12.00">Utilities</text>
<text xml:space="preserve" text-anchor="middle" x="69" y="-140.63" font-family="Arial" font-size="12.00">(Watermark, etc.)</text>
</g>
<!-- Adapters&#45;&gt;Utils -->
<g id="edge8" class="edge">
<title>Adapters&#45;&gt;Utils</title>
<path fill="none" stroke="#0277bd" d="M241.23,-217.32C207.94,-204.9 163.64,-188.36 128.3,-175.17"/>
<polygon fill="#0277bd" stroke="#0277bd" points="129.66,-171.94 119.07,-171.72 127.21,-178.5 129.66,-171.94"/>
</g>
<!-- Sources&#45;&gt;SourceDB -->
<g id="edge9" class="edge">
<title>Sources&#45;&gt;SourceDB</title>
<path fill="none" stroke="#e64a19" stroke-width="2" d="M243.41,-132.85C259.52,-121.76 280.79,-107.11 300.81,-93.33"/>
<polygon fill="#e64a19" stroke="#e64a19" stroke-width="2" points="302.7,-96.28 308.96,-87.72 298.73,-90.51 302.7,-96.28"/>
<text xml:space="preserve" text-anchor="middle" x="297.06" y="-106.28" font-family="Arial" font-size="10.00"> &#160;read</text>
</g>
<!-- Sinks&#45;&gt;SinkDB -->
<g id="edge10" class="edge">
<title>Sinks&#45;&gt;SinkDB</title>
<path fill="none" stroke="#558b2f" stroke-width="2" d="M400.23,-132.85C416.5,-121.57 438.07,-106.61 458.25,-92.62"/>
<polygon fill="#558b2f" stroke="#558b2f" stroke-width="2" points="460.24,-95.5 466.47,-86.93 456.25,-89.75 460.24,-95.5"/>
<text xml:space="preserve" text-anchor="middle" x="454.71" y="-106.28" font-family="Arial" font-size="10.00"> &#160;write</text>
</g>
<!-- L1 -->
<g id="node12" class="node">
<title>L1</title>
<path fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" d="M653.88,-745.78C653.88,-745.78 568.12,-745.78 568.12,-745.78 562.12,-745.78 556.12,-739.78 556.12,-733.78 556.12,-733.78 556.12,-721.78 556.12,-721.78 556.12,-715.78 562.12,-709.78 568.12,-709.78 568.12,-709.78 653.88,-709.78 653.88,-709.78 659.88,-709.78 665.88,-715.78 665.88,-721.78 665.88,-721.78 665.88,-733.78 665.88,-733.78 665.88,-739.78 659.88,-745.78 653.88,-745.78"/>
<text xml:space="preserve" text-anchor="middle" x="611" y="-723.51" font-family="Arial" font-size="12.00">Ruby Component</text>
</g>
<!-- L2 -->
<g id="node13" class="node">
<title>L2</title>
<path fill="#e1f5fe" stroke="#0277bd" stroke-width="2" d="M659.12,-639.03C659.12,-639.03 562.88,-639.03 562.88,-639.03 556.88,-639.03 550.88,-633.03 550.88,-627.03 550.88,-627.03 550.88,-615.03 550.88,-615.03 550.88,-609.03 556.88,-603.03 562.88,-603.03 562.88,-603.03 659.12,-603.03 659.12,-603.03 665.12,-603.03 671.12,-609.03 671.12,-615.03 671.12,-615.03 671.12,-627.03 671.12,-627.03 671.12,-633.03 665.12,-639.03 659.12,-639.03"/>
<text xml:space="preserve" text-anchor="middle" x="611" y="-616.76" font-family="Arial" font-size="12.00">Clojure Component</text>
</g>
<!-- L1&#45;&gt;L2 -->
<!-- L3 -->
<g id="node14" class="node">
<title>L3</title>
<path fill="#c8e6c9" stroke="#388e3c" stroke-width="2" d="M651.25,-542.53C651.25,-542.53 570.75,-542.53 570.75,-542.53 564.75,-542.53 558.75,-536.53 558.75,-530.53 558.75,-530.53 558.75,-518.53 558.75,-518.53 558.75,-512.53 564.75,-506.53 570.75,-506.53 570.75,-506.53 651.25,-506.53 651.25,-506.53 657.25,-506.53 663.25,-512.53 663.25,-518.53 663.25,-518.53 663.25,-530.53 663.25,-530.53 663.25,-536.53 657.25,-542.53 651.25,-542.53"/>
<text xml:space="preserve" text-anchor="middle" x="611" y="-520.26" font-family="Arial" font-size="12.00">Generated Code</text>
</g>
<!-- L2&#45;&gt;L3 -->
<!-- L4 -->
<g id="node15" class="node">
<title>L4</title>
<path fill="#ffccbc" stroke="#e64a19" stroke-width="2" d="M644.88,-454.76C644.88,-456.56 629.69,-458.03 611,-458.03 592.31,-458.03 577.12,-456.56 577.12,-454.76 577.12,-454.76 577.12,-425.3 577.12,-425.3 577.12,-423.5 592.31,-422.03 611,-422.03 629.69,-422.03 644.88,-423.5 644.88,-425.3 644.88,-425.3 644.88,-454.76 644.88,-454.76"/>
<path fill="none" stroke="#e64a19" stroke-width="2" d="M644.88,-454.76C644.88,-452.95 629.69,-451.49 611,-451.49 592.31,-451.49 577.12,-452.95 577.12,-454.76"/>
<text xml:space="preserve" text-anchor="middle" x="611" y="-435.76" font-family="Arial" font-size="12.00">Database</text>
</g>
<!-- L3&#45;&gt;L4 -->
</g>
</svg>
